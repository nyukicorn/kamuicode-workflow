# 夏の花々が咲く美しい庭園 - Three.js パノラマ体験

## 🌸 体験コンセプト

この Three.js アプリケーションは、夏の花々が咲く美しい庭園を360度パノラマで体験できるインタラクティブな WebGL アプリケーションです。美しいパーティクルエフェクトと滑らかなカメラ操作により、まるで実際にその場にいるような没入感を提供します。

## ✨ 主な機能

- **360度パノラマビュー**: 夏の花々が咲く美しい庭園の全方位景色
- **インタラクティブな操作**: マウス・タッチによる直感的な視点操作
- **美しいパーティクルエフェクト**: 花びらのような色彩豊かなパーティクルアニメーション
- **自動回転機能**: 自動で景色を回転表示
- **レスポンシブデザイン**: デスクトップ・モバイル両対応
- **音楽機能**: 環境音楽の再生（オプション）

## 🎮 操作方法

### デスクトップ
- **🖱️ マウスドラッグ**: 視点移動・回転
- **🎯 マウスホイール**: ズームイン・ズームアウト
- **🔄 ダブルクリック**: 自動回転ON/OFF

### モバイル・タブレット
- **👆 1本指スワイプ**: 視点移動・回転
- **🤏 2本指ピンチ**: ズームイン・ズームアウト
- **👆 ダブルタップ**: 自動回転ON/OFF

### UI コントロール
- **🎵 音楽再生/停止**: 環境音楽の制御
- **🔄 自動回転**: 自動回転機能のON/OFF
- **🏠 視点リセット**: カメラ位置・ズームを初期状態に戻す
- **🔊 音量調整**: 音楽音量のスライダー調整

## 🛠️ 技術仕様

### 必要な技術要件
- **WebGL対応ブラウザ**: WebGL 1.0以上対応
- **JavaScript有効**: ES6+ 対応
- **インターネット接続**: Three.js CDN読み込み用

### 使用技術
- **Three.js r128**: 3Dグラフィックスライブラリ
- **WebGL**: ハードウェアアクセラレーション
- **HTML5 Canvas**: レンダリング出力
- **CSS3**: レスポンシブUI・アニメーション
- **Web Audio API**: 音楽再生制御

### パフォーマンス仕様
- **パーティクル数**: 800個
- **テクスチャサイズ**: 1.5MB (パノラマ画像)
- **フレームレート**: 60fps (デバイス性能による)
- **対応解像度**: 320px～4K対応

## 🚀 ローカル実行方法

### 1. ファイル展開
```bash
# ZIPファイルを展開
unzip threejs-experience.zip
cd threejs-experience-20250719-16387561936
```

### 2. ローカルサーバー起動
```bash
# Python 3の場合
python -m http.server 8000

# Python 2の場合
python -m SimpleHTTPServer 8000

# Node.js (http-server)の場合
npx http-server -p 8000

# PHP の場合
php -S localhost:8000
```

### 3. ブラウザでアクセス
```
http://localhost:8000/src/index.html
```

## 🌐 対応ブラウザ

### デスクトップ
- ✅ **Chrome**: 最新版推奨
- ✅ **Firefox**: 最新版推奨
- ✅ **Safari**: 最新版推奨
- ✅ **Edge**: 最新版推奨

### モバイル
- ✅ **Mobile Chrome**: Android 7.0+
- ✅ **Mobile Safari**: iOS 12.0+
- ✅ **Mobile Firefox**: Android 7.0+
- ✅ **Samsung Internet**: 最新版

### 最小要件
- WebGL 1.0 対応
- JavaScript ES6+ 対応
- 1GB RAM (推奨: 2GB+)

## 🔧 トラブルシューティング

### よくある問題と解決方法

#### 1. 画面が真っ黒になる
**原因**: WebGL非対応 or テクスチャ読み込み失敗
**解決策**:
- ブラウザのWebGL対応を確認: [webglreport.com](https://webglreport.com/)
- ブラウザの更新
- ハードウェアアクセラレーション有効化

#### 2. パノラマ画像が表示されない
**原因**: ファイルパス問題 or CORS エラー
**解決策**:
- ローカルサーバー経由でアクセス (file://でなく http://)
- `panorama.jpg` ファイルの存在確認
- ブラウザのコンソールエラー確認

#### 3. 動作が重い・カクつく
**原因**: デバイス性能不足 or リソース不足
**解決策**:
- 他のタブ・アプリケーション終了
- ブラウザのハードウェアアクセラレーション確認
- デバイスの再起動

#### 4. 音楽が再生されない
**原因**: ブラウザの自動再生ポリシー
**解決策**:
- 手動で音楽再生ボタンをクリック
- ブラウザのサイト設定で音声許可

#### 5. モバイルで操作できない
**原因**: タッチイベント問題
**解決策**:
- ページ再読み込み
- ブラウザキャッシュクリア
- モバイルブラウザの更新

## 📁 ファイル構成

```
threejs-experience-20250719-16387561936/
├── README.md                    # このファイル
├── src/
│   ├── index.html              # メインアプリケーション
│   └── panorama.jpg            # パノラマテクスチャ
├── assets/
│   └── panorama.jpg            # パノラマテクスチャ（バックアップ）
└── final/
    └── threejs-experience.zip  # 配布用パッケージ
```

## 🔒 セキュリティ考慮事項

- **CORS対応**: ローカルサーバー経由での実行推奨
- **XSS対策**: 外部入力の適切なサニタイズ
- **CSP対応**: Content Security Policy 準拠
- **HTTPS推奨**: 本番環境では HTTPS 使用

## 📊 パフォーマンス最適化

### 実装済み最適化
- **テクスチャ圧縮**: 効率的な画像形式使用
- **パーティクル最適化**: 適切な数量でGPU負荷調整
- **レンダリング最適化**: requestAnimationFrame使用
- **メモリ管理**: 適切なリソース解放

### 推奨設定
- **アンチエイリアス**: 高品質レンダリング
- **デバイスピクセル比**: 高DPI対応
- **自動品質調整**: デバイス性能に応じた最適化

## 🎨 カスタマイズ

### パノラマ画像の変更
1. `panorama.jpg` を差し替え
2. 推奨解像度: 4096x2048px (2:1比率)
3. ファイルサイズ: 2MB以下推奨

### パーティクル色の変更
`index.html` 284-290行目の colorPalette を編集

### 音楽ファイルの追加
1. `generated-music.wav` ファイル配置
2. 音楽統合機能は現在無効化済み

## 📞 サポート・お問い合わせ

技術的な問題や改善提案がございましたら、開発チームまでお気軽にお問い合わせください。

---

🌸 **夏の花々が咲く美しい庭園をお楽しみください！** 🌸