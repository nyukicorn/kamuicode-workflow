# 夏の花々が咲く美しい庭園 - Three.js 3D Experience

## 体験コンセプト

美しい夏の庭園に囲まれた360度パノラマ体験。色とりどりの花々が咲き誇る空間を、インタラクティブな3D環境で探索できます。BGM付きで、没入感のある癒しの体験を提供します。

## 主な機能

- **360度パノラマビュー**: 美しい夏の庭園を360度全方向で楽しめます
- **インタラクティブ操作**: マウスやタッチで自由に視点を変更
- **パーティクルエフェクト**: 浮遊する光の粒子で幻想的な雰囲気を演出
- **BGM統合**: 環境に合った音楽で体験を彩ります
- **レスポンシブデザイン**: PC・タブレット・スマートフォンに対応
- **自動回転機能**: ダブルクリックで自動回転モードのON/OFF

## 操作方法

### PC（マウス操作）
- **ドラッグ**: 視点移動
- **ホイール**: ズームイン/アウト（FOV: 30-120度）
- **ダブルクリック**: 自動回転モードの切り替え

### モバイル（タッチ操作）
- **スワイプ**: 視点移動
- **ピンチ**: ズーム操作（ブラウザ標準）
- **ダブルタップ**: 自動回転モードの切り替え

### 音楽制御
- **音楽再生/停止ボタン**: BGMのON/OFF
- **音量スライダー**: 音量調整（0-100%）

## 技術仕様

### 必要環境
- **WebGL対応ブラウザ**
- **最小画面解像度**: 320px × 568px
- **推奨メモリ**: 2GB以上

### 技術スタック
- **Three.js**: r128（3D描画エンジン）
- **WebGL**: ハードウェアアクセラレーション
- **HTML5 Audio API**: 音楽再生
- **CSS3**: レスポンシブレイアウト

### ファイル構成
```
threejs-experience-20250719-16387122142/
├── src/
│   ├── index.html           # メインHTMLファイル
│   ├── panorama.jpg         # パノラマ画像 (1.8MB)
│   └── generated-music.wav  # BGM音楽ファイル (6.3MB)
├── assets/
│   └── panorama.jpg         # バックアップパノラマ画像
├── music/
│   └── generated-music.wav  # バックアップ音楽ファイル
└── README.md               # このファイル
```

## ローカル実行方法

### 方法1: HTTPサーバーを使用（推奨）

#### Python 3を使用
```bash
cd threejs-experience-20250719-16387122142/src
python -m http.server 8000
```

#### Node.js（http-server）を使用
```bash
npm install -g http-server
cd threejs-experience-20250719-16387122142/src
http-server -p 8000
```

その後、ブラウザで `http://localhost:8000` にアクセス

### 方法2: VSCode Live Server拡張機能
1. VSCodeでプロジェクトを開く
2. Live Server拡張機能をインストール
3. `index.html`を右クリック → "Open with Live Server"

## 対応ブラウザ

### PC
- **Chrome**: 50+
- **Firefox**: 51+
- **Safari**: 10+
- **Edge**: 79+

### モバイル
- **Chrome Mobile**: 50+
- **Safari iOS**: 10+
- **Samsung Internet**: 5.0+

## パフォーマンス最適化

### 実装済み最適化
- **テクスチャ圧縮**: JPEG形式での画像配信
- **レンダリング最適化**: requestAnimationFrame使用
- **メモリ管理**: 適切なGeometry/Material破棄
- **レスポンシブ対応**: デバイス別UI調整

### 推奨設定
- **画質**: 高（デフォルト）
- **パーティクル数**: 1000個（調整可能）
- **フレームレート**: 60FPS目標

## トラブルシューティング

### よくある問題

#### 「WebGLをサポートしていません」エラー
- **原因**: 古いブラウザまたはハードウェアアクセラレーション無効
- **解決方法**: 
  1. ブラウザを最新版に更新
  2. ハードウェアアクセラレーションを有効化
  3. グラフィックドライバを更新

#### パノラマ画像が表示されない
- **原因**: CORS制限またはファイルパス不正
- **解決方法**: HTTPサーバー経由でアクセス

#### 音楽が再生されない
- **原因**: ブラウザの自動再生ポリシー
- **解決方法**: 手動で音楽再生ボタンをクリック

#### 動作が重い
- **解決方法**:
  1. 他のタブを閉じる
  2. ブラウザのハードウェアアクセラレーション確認
  3. デバイスの再起動

### デバッグ情報
開発者ツールのコンソールで以下の情報を確認：
- WebGL対応状況
- パノラマ読み込み進行状況
- 音楽再生ステータス
- エラーメッセージ

## セキュリティ考慮事項

- **HTTPS推奨**: 本番環境ではHTTPS使用を推奨
- **CSP対応**: Content Security Policy設定可能
- **外部依存**: Three.js CDNのみ使用（信頼できるソース）

## ライセンス

このプロジェクトは個人利用・教育目的での使用を想定しています。

## 更新履歴

- **v1.0.0** (2025-07-19): 初回リリース
  - 360度パノラマビュー実装
  - インタラクティブ操作対応
  - BGM統合機能追加
  - レスポンシブデザイン対応

## 技術サポート

問題が発生した場合は、以下の情報と共にお問い合わせください：
- ブラウザとバージョン
- OS情報
- エラーメッセージ
- 実行環境（ローカル/サーバー）

---

*Generated with Claude Code*