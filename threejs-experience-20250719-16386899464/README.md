# 🌸 色とりどりの美しい花が咲く花園 - Three.js パノラマ体験

美しい花園の360度パノラマビューを楽しめるインタラクティブなWebGL体験です。

## 📋 体験コンセプト

この体験では、色とりどりの花が咲く美しい花園を360度パノラマビューで探索できます。リアルな花びらパーティクルと心地よいBGMが、没入感のある体験を提供します。

## 🎮 操作方法

### マウス操作
- **ドラッグ**: 視点を360度回転
- **ホイール**: ズームイン/ズームアウト（10-75度）
- **ダブルクリック**: 自動回転のオン/オフ切り替え

### タッチ操作（モバイル）
- **スワイプ**: 視点移動
- **ピンチ**: ズーム操作

### 音楽コントロール
- **🎵 再生/⏸️ 停止**: BGMの再生/一時停止
- **⏹️ 停止**: BGMの停止と巻き戻し
- **音量スライダー**: 音量調整（0-100%）

## 🛠️ 技術仕様

### 必要要件
- **WebGL対応ブラウザ**: Chrome 23+, Firefox 15+, Safari 8+, Edge 12+
- **JavaScript**: ES6+対応
- **画面解像度**: 最小1024x768推奨

### 技術スタック
- **Three.js**: r128（WebGL 3Dライブラリ）
- **パノラマ画像**: 高解像度JPEG（1.6MB）
- **音楽**: WAV形式BGM（6.1MB）
- **パーティクルシステム**: 1000個の花びらパーティクル

### パフォーマンス
- **レンダリング**: 60FPS目標
- **アンチエイリアシング**: 有効
- **レスポンシブデザイン**: モバイル対応

## 🚀 ローカル実行方法

### 1. ファイル構成確認
```
threejs-experience-20250719-16386899464/
├── src/
│   ├── index.html          # メインHTMLファイル
│   ├── panorama.jpg        # パノラマ画像
│   └── generated-music.wav # BGM音楽ファイル
├── assets/
│   └── panorama.jpg        # パノラマ画像（バックアップ）
├── music/
│   └── generated-music.wav # BGM音楽ファイル（バックアップ）
└── README.md               # このファイル
```

### 2. ローカルサーバー起動

#### Python（推奨）
```bash
cd src
python -m http.server 8000
# または Python 2.x の場合
python -m SimpleHTTPServer 8000
```

#### Node.js
```bash
cd src
npx http-server -p 8000
```

#### PHP
```bash
cd src
php -S localhost:8000
```

### 3. ブラウザでアクセス
http://localhost:8000 にアクセスしてください。

## 🌐 対応ブラウザ

### デスクトップ
- ✅ **Chrome**: 23以降（推奨）
- ✅ **Firefox**: 15以降
- ✅ **Safari**: 8以降
- ✅ **Edge**: 12以降

### モバイル
- ✅ **Chrome Mobile**: Android 4.4+
- ✅ **Safari Mobile**: iOS 8+
- ✅ **Samsung Internet**: 4.0+

## 🔧 トラブルシューティング

### Q: 「WebGLがサポートされていません」と表示される
**A**: お使いのブラウザまたはグラフィックドライバーがWebGLに対応していません。
- ブラウザを最新版に更新
- グラフィックドライバーを更新
- ハードウェアアクセラレーションを有効化

### Q: パノラマ画像が表示されない
**A**: ローカルサーバーが正しく起動していない可能性があります。
- CORSエラーを避けるため、必ずローカルサーバー経由でアクセス
- ファイルパスが正しいか確認
- ブラウザの開発者ツールでエラーメッセージを確認

### Q: 音楽が再生されない
**A**: ブラウザの自動再生ポリシーによる制限です。
- 手動で再生ボタンをクリック
- ユーザーインタラクション後に音楽を再生

### Q: パフォーマンスが低い
**A**: デバイスのスペックに応じて最適化してください。
- ブラウザのハードウェアアクセラレーションを確認
- 他のタブやアプリケーションを閉じる
- より高性能なデバイスでの利用を推奨

### Q: モバイルで操作が困難
**A**: タッチ操作の感度を調整してください。
- 指1本でのスワイプ操作を推奨
- ピンチ操作でズーム調整
- 画面回転でより良い体験

## 📊 ファイルサイズ情報

- **HTML**: 14KB（CSS/JS込み）
- **パノラマ画像**: 1.6MB
- **BGM音楽**: 6.1MB
- **総サイズ**: 約7.8MB

## 🔒 セキュリティ

このアプリケーションは以下のセキュリティベストプラクティスに従っています：
- 外部リソースはCDN（Three.js）のみ使用
- ユーザー入力の検証とサニタイゼーション実装
- CSPヘッダー対応（必要に応じて設定）
- HTTPSでの配信推奨

## 🎨 カスタマイズ

### パノラマ画像の変更
`src/panorama.jpg`を別の360度画像に置き換えることで、異なる環境を体験できます。

### BGMの変更
`src/generated-music.wav`を別の音楽ファイルに置き換えることで、雰囲気を変更できます。

### パーティクル設定
`index.html`内のパーティクルシステム設定を変更することで、花びらの数や色を調整できます。

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

---

🌸 美しい花園の世界をお楽しみください！