#!/bin/bash
# Unified Unit Test Server for All Viewer Components
# å…¨ãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çµ±åˆå˜ä½“ãƒ†ã‚¹ãƒˆã‚µãƒ¼ãƒãƒ¼

echo "ğŸ§ª Starting Unified Unit Test Server for Viewer Components..."
echo "ğŸ“ Server directory: $(pwd)"
echo ""
echo "ğŸ¯ Available Unit Test URLs:"
echo "   â”Œâ”€ ğŸµ Audio Reactive System:"
echo "   â”‚   http://localhost:8002/shared-viewer-components/test-audio-reactive-system.html"
echo "   â”œâ”€ ğŸ“· Camera Controls:"
echo "   â”‚   http://localhost:8002/shared-viewer-components/test-camera-controls.html"
echo "   â”œâ”€ ğŸ–±ï¸ Mouse Interaction:"
echo "   â”‚   http://localhost:8002/shared-viewer-components/test-mouse-interaction.html"
echo "   â”œâ”€ âš¡ Particle Effects:"
echo "   â”‚   http://localhost:8002/shared-viewer-components/test-particle-effects.html"
echo "   â”œâ”€ ğŸ® UI Controls:"
echo "   â”‚   http://localhost:8002/shared-viewer-components/test-ui-controls.html"
echo "   â””â”€ ğŸŒ Panorama Script:"
echo "       http://localhost:8002/threejs-panorama-viewer/test-panorama-unit.html"
echo ""
echo "ğŸ¯ Integration Test URLs:"
echo "   â”œâ”€ ğŸ“Š Point Cloud Viewer (Integrated):"
echo "   â”‚   http://localhost:8002/threejs-pointcloud-viewer/test-refactored-viewer.html"
echo "   â””â”€ ğŸŒ Panorama Viewer (Integrated):"
echo "       http://localhost:8002/threejs-panorama-viewer/test-panorama-viewer.html"
echo ""
echo "ğŸ“ Unit Test Instructions:"
echo "   1. ğŸµ Audio Tests: Test Web Audio API, microphone, frequency analysis"
echo "   2. ğŸ“· Camera Tests: Test Three.js camera, OrbitControls, positioning"
echo "   3. ğŸ–±ï¸ Mouse Tests: Test gravity effects, mouse trails, interaction modes"
echo "   4. âš¡ Particle Tests: Test depth effects, color mapping, GPU optimization"
echo "   5. ğŸ® UI Tests: Test auto-hide panels, keyboard shortcuts, responsive design"
echo "   6. ğŸŒ Panorama Tests: Test spherical distribution, image analysis, 360Â° viewing"
echo ""
echo "âœ… Integration Test Instructions:"
echo "   1. Test all components working together in real viewers"
echo "   2. Verify shared component integration and communication"
echo "   3. Confirm performance with full feature set"
echo "   4. Validate user experience across all functionality"
echo ""
echo "ğŸ” Testing Methodology:"
echo "   â€¢ Unit Tests: Individual component functionality verification"
echo "   â€¢ Integration Tests: Full system interaction and performance"
echo "   â€¢ Manual Tests: User interaction and visual verification"
echo "   â€¢ Automated Tests: Function existence and basic operation"
echo ""
echo "â¹ï¸  Press Ctrl+C to stop the server"
echo ""

# Start Python HTTP server on port 8002 (dedicated for unit tests)
python3 -m http.server 8002