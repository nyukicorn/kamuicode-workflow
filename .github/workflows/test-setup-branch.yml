name: Test Setup Branch Module

on:
  workflow_dispatch:
    inputs:
      test_name:
        description: 'ãƒ†ã‚¹ãƒˆåï¼ˆä¾‹ï¼šsetup-branch-testï¼‰'
        required: true
        default: 'setup-branch-test'
        type: string

jobs:
  test-setup-branch:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    
    steps:
      - name: Test Setup Branch Module
        id: setup
        uses: ./.github/actions/kamui-modules/setup-branch
      
      - name: Verify Results
        run: |
          echo "ğŸ” Setup Branch Test Results:"
          echo "âœ… Branch Name: ${{ steps.setup.outputs.branch-name }}"
          echo "âœ… Folder Name: ${{ steps.setup.outputs.folder-name }}"
          echo ""
          echo "ğŸ§ª Test Input: ${{ inputs.test_name }}"
          echo "ğŸ“ Current Branch: $(git branch --show-current)"
          echo "ğŸ“‚ Working Directory: $(pwd)"
          
          # åŸºæœ¬çš„ãªæ¤œè¨¼
          if [ -n "${{ steps.setup.outputs.branch-name }}" ]; then
            echo "âœ… Branch name output is not empty"
          else
            echo "âŒ Branch name output is empty"
            exit 1
          fi
          
          if [ -n "${{ steps.setup.outputs.folder-name }}" ]; then
            echo "âœ… Folder name output is not empty"
          else
            echo "âŒ Folder name output is empty"
            exit 1
          fi
          
          echo "ğŸ¯ Setup Branch Module Test: PASSED"