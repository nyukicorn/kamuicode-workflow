# 色とりどりの花が咲き乱れる花園 - Three.js VR体験

美しい花園を360度パノラマで体験できるWebVRアプリケーションです。Three.jsを使用してインタラクティブな3D環境を作成し、音楽と共に没入感のある体験を提供します。

## 🌸 体験コンセプト

色とりどりの花が咲き乱れる花園の中を自由に見回すことができます。美しいパノラマ画像と浮遊するパーティクルエフェクト、心地よいBGMが相まって、リラックスできる空間を演出します。

## 🎮 操作方法

### マウス操作
- **ドラッグ**: 視点移動（カメラの回転）
- **ホイール**: ズームイン/ズームアウト
- **ダブルクリック**: 自動回転のオン/オフ切り替え

### タッチ操作（モバイル）
- **スワイプ**: 視点移動（カメラの回転）
- **ピンチ**: ズーム操作は非対応（ブラウザのデフォルト動作）

### キーボード操作
- **スペースキー**: 自動回転のオン/オフ切り替え
- **M キー**: 音楽の再生/停止切り替え

### 音楽コントロール
- **🎵 音楽 ON/OFF ボタン**: BGMの再生/停止
- **音量スライダー**: BGMの音量調整（0-100%）

## 🛠️ 技術仕様

### 必要な環境
- **WebGL対応ブラウザ**（WebGL 1.0以上）
- **モダンブラウザ**（ES6+対応）
- **オーディオ再生対応**（HTML5 Audio API）

### 使用技術
- **Three.js** (r128): 3Dグラフィックス、WebGLレンダリング
- **HTML5 Canvas**: レンダリング表面
- **HTML5 Audio API**: BGM再生
- **CSS3**: レスポンシブUI、モバイル対応

### ファイル構成
```
threejs-experience-20250719-16386092089/
├── src/
│   ├── index.html          # メインアプリケーション
│   ├── panorama.jpg        # パノラマ背景画像 (2.5MB)
│   └── generated-music.wav # BGM音楽ファイル (6.1MB)
├── README.md              # このファイル
└── final/                 # 最終パッケージ
    ├── threejs-experience.zip
    └── QUALITY_CHECK_REPORT.md
```

## 🚀 ローカル実行方法

### 方法1: HTTPサーバーを使用（推奨）
```bash
# Python 3の場合
cd threejs-experience-20250719-16386092089/src
python -m http.server 8000

# Node.jsの場合
npx http-server src -p 8000

# ブラウザで http://localhost:8000 にアクセス
```

### 方法2: ファイル直接実行
```bash
# srcディレクトリ内のindex.htmlをブラウザで直接開く
# 注意: 一部のブラウザではCORSエラーが発生する可能性があります
```

## 🌐 対応ブラウザ

### デスクトップ
- **Chrome** 70+ ✅
- **Firefox** 65+ ✅
- **Safari** 12+ ✅
- **Edge** 79+ ✅

### モバイル
- **Chrome Mobile** 70+ ✅
- **Safari Mobile** 12+ ✅
- **Firefox Mobile** 65+ ✅

### WebGL要件
- WebGL 1.0以上のサポートが必要
- デバイスのGPU性能により動作速度が変動

## 📱 レスポンシブ対応

- **デスクトップ**: フルスクリーン表示、マウス操作
- **タブレット**: タッチ操作対応、UI最適化
- **スマートフォン**: モバイル向けUI、縦横回転対応

## ⚠️ トラブルシューティング

### WebGLエラー
**症状**: 「WebGLがサポートされていません」エラー
**解決策**:
- ブラウザでWebGLが有効になっているか確認
- GPUドライバーを最新版に更新
- ハードウェアアクセラレーションを有効化

### パノラマ画像が表示されない
**症状**: 背景が黒いまま
**解決策**:
- HTTPサーバー経由でアクセス（file://ではなくhttp://）
- panorama.jpgファイルが存在するか確認
- ブラウザのコンソールでエラーメッセージを確認

### 音楽が再生されない
**症状**: BGMが聞こえない
**解決策**:
- ブラウザの自動再生ポリシーのため、ユーザー操作後に再生
- 音量設定を確認
- generated-music.wavファイルが存在するか確認

### パフォーマンスが悪い
**症状**: 動作が重い、フレームレートが低い
**解決策**:
- ブラウザのハードウェアアクセラレーションを有効化
- 他のタブ/アプリケーションを閉じる
- デバイスの性能により制限される場合があります

## 🔧 カスタマイズ

### パーティクル数の調整
```javascript
// index.html の 256行目付近
const particlesCount = 2000; // この値を変更
```

### 自動回転速度の調整
```javascript
// index.html の 172行目付近
this.autoRotateSpeed = 0.005; // この値を変更
```

### 音楽ファイルの変更
1. `generated-music.wav` を新しい音楽ファイルに置き換え
2. 対応形式: WAV, MP3, OGG
3. ファイル名を変更する場合は154行目のsrcも更新

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🎯 今後の改善予定

- VRヘッドセット対応（WebXR API）
- より多様なパーティクルエフェクト
- インタラクティブな花のオブジェクト
- 複数の花園シーンの選択
- 音楽とビジュアルの同期エフェクト

---

**🌸 美しい花園をお楽しみください！**