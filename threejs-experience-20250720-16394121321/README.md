# 静かな森 - Three.js 3D体験

## 体験コンセプト

「静かな森」は、リアルタイムコントロールテスト用のインタラクティブな3D環境です。360度パノラマ映像の中で、光の粒子が静かに舞い踊る森の雰囲気を体験できます。マウスやタッチ操作によるリアルタイムな視点制御と、パーティクルエフェクトの動的調整が可能です。

## 操作方法

### 基本操作
- **🖱️ ドラッグ**: 視点移動（360度自由視点）
- **🎯 ホイール**: ズームイン/アウト（視野角調整）
- **🔄 ダブルクリック**: 自動回転のON/OFF切り替え
- **📱 タッチ操作**: モバイルデバイス対応
  - 1本指ドラッグ: 視点移動
  - 2本指ピンチ: ズーム操作

### リアルタイムコントロール
画面右側のコントロールパネルから以下の調整が可能：

#### パーティクル色設定
- **単色**: 基本色1色で統一
- **同系色**: グラデーション効果
- **多彩色**: レインボーカラー
- **カラーピッカー**: 任意の色選択

#### 動的パラメータ調整
- **回転速度**: 0.001～0.05の範囲で調整
- **粒子サイズ**: 0.1～3.0の範囲で調整
- **粒子数**: 100～5000個の範囲で調整

## 技術仕様

### 使用技術
- **Three.js r128**: 3Dレンダリングエンジン
- **WebGL**: ハードウェア加速レンダリング
- **360度パノラマ**: 球面マッピングによる全周囲環境
- **パーティクルシステム**: リアルタイム描画
- **レスポンシブデザイン**: PC/モバイル対応

### システム要件
- **ブラウザ**: WebGL対応ブラウザ
  - Chrome 60+ (推奨)
  - Firefox 55+
  - Safari 12+
  - Edge 79+
- **OS**: Windows 10+, macOS 10.14+, iOS 12+, Android 7+
- **グラフィック**: WebGL 1.0対応GPU
- **メモリ**: 最低2GB RAM（推奨4GB+）

### パフォーマンス最適化
- アンチエイリアシング有効
- アルファブレンディング最適化
- 加算ブレンディングによる光効果
- バッファ属性の動的更新最適化

## ローカル実行方法

### 必要な準備
このアプリケーションは静的ファイルのため、Webサーバーが必要です。

### 実行手順

#### 方法1: Python（推奨）
```bash
# Python 3の場合
cd threejs-experience-20250720-16394121321/src
python -m http.server 8000

# Python 2の場合
python -m SimpleHTTPServer 8000
```
ブラウザで `http://localhost:8000` にアクセス

#### 方法2: Node.js
```bash
# http-serverをインストール
npm install -g http-server

# サーバー起動
cd threejs-experience-20250720-16394121321/src
http-server -p 8000
```

#### 方法3: Live Server（VSCode拡張）
1. VSCodeでプロジェクトフォルダを開く
2. Live Server拡張をインストール
3. index.htmlを右クリック → "Open with Live Server"

## 対応ブラウザ情報

### 完全対応
- **Chrome**: 60+ ✅
- **Firefox**: 55+ ✅
- **Safari**: 12+ ✅
- **Edge**: 79+ ✅

### 制限付き対応
- **Internet Explorer**: 非対応 ❌
- **Safari**: 11以下では一部機能制限

### モバイル対応
- **iOS Safari**: 12+ ✅
- **Android Chrome**: 70+ ✅
- **Samsung Internet**: 10+ ✅

## トラブルシューティング

### よくある問題と解決方法

#### 「WebGLがサポートされていません」エラー
- **原因**: ブラウザまたはGPUがWebGLに対応していない
- **解決**: ブラウザを最新版に更新、GPUドライバーを更新

#### パノラマ画像が表示されない
- **原因**: ファイルパスエラーまたはCORSポリシー
- **解決**: 必ずWebサーバー経由でアクセス（file://ではなくhttp://）

#### パフォーマンスが重い
- **原因**: GPU性能不足または粒子数が多すぎる
- **解決**: 
  - 粒子数を1000以下に削減
  - 粒子サイズを0.5以下に調整
  - 他のGPU集約的なアプリケーションを終了

#### タッチ操作が反応しない
- **原因**: ブラウザのタッチイベント処理問題
- **解決**: ページを再読み込み、別ブラウザで試行

#### 自動回転が止まらない
- **解決**: ダブルクリック（またはダブルタップ）で切り替え

### デバッグ情報の確認
1. ブラウザの開発者ツールを開く（F12）
2. Consoleタブでエラーメッセージを確認
3. ネットワークタブでリソース読み込み状況を確認

## ファイル構成

```
threejs-experience-20250720-16394121321/
├── src/
│   ├── index.html          # メインHTMLファイル
│   └── panorama.jpg        # 360度パノラマ画像
├── assets/
│   └── panorama.jpg        # パノラマ画像（バックアップ）
└── README.md              # このファイル
```

## ライセンス

このプロジェクトで使用している外部ライブラリ：
- **Three.js**: MIT License
- **パノラマ画像**: AI生成（商用利用可能）

## 更新履歴

- **v1.0** (2025-07-20): 初回リリース
  - 360度パノラマ環境
  - リアルタイムパーティクル制御
  - マルチプラットフォーム対応
  - レスポンシブデザイン

---

**開発者注記**: このアプリケーションは教育・テスト目的で作成されており、商用利用時は各ライブラリのライセンスを確認してください。