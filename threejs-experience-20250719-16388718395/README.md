# 万華鏡のような美しい世界 - Three.js Experience

## 🎨 体験コンセプト

このインタラクティブなThree.js体験は、万華鏡のような美しい世界を表現します。パノラマ画像と動的なパーティクルシステムが組み合わさり、没入感のある視覚体験を提供します。音楽と組み合わせることで、感覚的で幻想的な世界への旅をお楽しみいただけます。

## ✨ 主な機能

- **360度パノラマビュー**: 美しいパノラマ画像による没入感のある背景
- **動的パーティクルシステム**: 万華鏡のような色とりどりのパーティクルアニメーション
- **音楽統合**: BGMのオン/オフ制御と音量調整
- **インタラクティブ制御**: マウス・タッチによる直感的な操作
- **自動回転機能**: 自動的な視点移動でリラックス体験
- **レスポンシブデザイン**: PC・モバイル両対応

## 🎮 操作方法

### デスクトップ（PC・Mac）
- **マウスドラッグ**: 視点を自由に移動
- **マウスホイール**: ズームイン・ズームアウト
- **ダブルクリック**: 自動回転のオン/オフ切り替え

### モバイル（スマートフォン・タブレット）
- **スワイプ**: 指でスワイプして視点移動
- **ピンチ**: 2本指でピンチしてズーム操作
- **ダブルタップ**: 自動回転のオン/オフ切り替え

### 音楽制御
- **🎵 音楽 ON/OFF**: BGMの再生・停止
- **🔄 自動回転**: 自動視点移動の切り替え
- **音量スライダー**: BGMの音量調整（0-100%）

## 🛠️ 技術仕様

### 必要な環境
- **ブラウザ**: WebGL対応の現代的なブラウザ
- **JavaScript**: ES6+対応
- **ネットワーク**: インターネット接続（Three.js CDN使用）

### 対応ブラウザ
- Chrome 80+ ✅
- Firefox 75+ ✅
- Safari 13+ ✅
- Edge 80+ ✅
- モバイルブラウザ（iOS Safari、Chrome Mobile）✅

### 使用技術
- **Three.js r128**: 3Dグラフィックスライブラリ
- **WebGL**: ハードウェアアクセラレーション
- **Web Audio API**: 音楽制御
- **CSS3**: レスポンシブデザイン
- **ES6 JavaScript**: モダンJavaScript

## 🚀 ローカル実行方法

### 1. ファイルの準備
```bash
# プロジェクトディレクトリに移動
cd threejs-experience-20250719-16388718395/src/

# ファイル構成確認
ls -la
# index.html
# panorama.jpg (約2.3MB)
# generated-music.wav (約6.3MB)
```

### 2. ローカルサーバーの起動

#### Python使用の場合
```bash
# Python 3
python -m http.server 8000

# Python 2
python -m SimpleHTTPServer 8000
```

#### Node.js使用の場合
```bash
# http-serverのインストール
npm install -g http-server

# サーバー起動
http-server -p 8000
```

#### PHP使用の場合
```bash
php -S localhost:8000
```

### 3. ブラウザでアクセス
```
http://localhost:8000
```

## 📁 ファイル構成

```
threejs-experience-20250719-16388718395/
├── src/
│   ├── index.html          # メインHTMLファイル
│   ├── panorama.jpg        # パノラマ背景画像 (2.3MB)
│   └── generated-music.wav # BGM音楽ファイル (6.3MB)
├── assets/
│   └── panorama.jpg        # バックアップ画像
├── music/
│   └── generated-music.wav # バックアップ音楽
├── images/
│   └── generated-image.png # 生成画像
├── final/
│   └── (配布用パッケージ)
└── README.md              # このファイル
```

## 🎨 パフォーマンス最適化

### 画像ファイル
- **パノラマ画像**: 2.3MB（適切なサイズ）
- **フォーマット**: JPEG（Web最適化済み）

### 音楽ファイル
- **BGMファイル**: 6.3MB
- **フォーマット**: WAV（高音質）
- **ループ再生**: 対応

### 3Dパフォーマンス
- **パーティクル数**: 1,000個（最適化済み）
- **レンダリング**: WebGLアンチエイリアシング
- **フレームレート**: 60fps目標

## ⚠️ トラブルシューティング

### WebGLエラーが表示される場合
1. ブラウザを最新版に更新
2. ハードウェアアクセラレーションを有効化
3. 別のブラウザで試行

### 音楽が再生されない場合
1. ブラウザの自動再生ポリシーが原因の可能性
2. 一度ページをクリックしてから音楽ボタンを押す
3. 音量がミュートになっていないか確認

### パフォーマンスが重い場合
1. 他のタブやアプリケーションを閉じる
2. ブラウザのキャッシュをクリア
3. 低スペックデバイスの場合、自動回転をオフにする

### モバイルでの操作性
- タッチ操作が反応しない場合、ページをリロード
- ピンチズームが効かない場合、ブラウザの設定を確認

## 🔧 開発者向け情報

### カスタマイズポイント
- **パーティクル数**: `particleCount`変数を調整
- **回転速度**: `autoRotationSpeed`変数を変更
- **色彩設定**: HSL値を調整して色合いを変更
- **カメラ感度**: `mouseControl.sensitivity`を調整

### セキュリティ考慮事項
- CDNからのライブラリ読み込み
- 相対パスによるファイル参照
- XSS対策済みのユーザー入力処理

## 📄 ライセンス

このプロジェクトはMITライセンスの下で提供されています。

## 🎭 クレジット

- **Three.js**: Three.js Authors (MIT License)
- **万華鏡コンセプト**: インタラクティブデジタルアート
- **音楽**: AI生成楽曲
- **背景画像**: AI生成パノラマアート

---

**製作日**: 2025年7月19日  
**バージョン**: 1.0.0  
**体験時間**: 約5-10分  
**推奨環境**: デスクトップブラウザ + ヘッドフォン