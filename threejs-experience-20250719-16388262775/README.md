# 夏の花々が咲く美しい庭園 - Three.js VR体験

## 🌸 体験コンセプト

美しい夏の庭園をテーマにした没入型3D VR体験です。桜の花びらが舞う幻想的な空間で、360度パノラマビューとインタラクティブなパーティクルエフェクトをお楽しみいただけます。

## 🎮 操作方法

### デスクトップ（PC/Mac）
- **マウスドラッグ**: 視点の回転・移動
- **マウスホイール**: ズームイン・ズームアウト
- **ダブルクリック**: 自動回転のON/OFF切り替え

### モバイル（スマートフォン/タブレット）
- **タッチ&スワイプ**: 視点の回転・移動
- **ピンチ**: ズーム操作（ブラウザ依存）

### UI コントロール
- **🎵 音楽 ON/OFF**: 背景音楽の再生/停止
- **🔄 自動回転**: 自動で視点が回転
- **🏠 視点リセット**: カメラ位置とズームを初期状態に戻す
- **🔊 音量調整**: 背景音楽の音量をスライダーで調整

## 🛠️ 技術仕様

### 使用技術
- **Three.js r128**: 3Dグラフィックスライブラリ
- **WebGL**: ハードウェアアクセラレーション対応3D描画
- **HTML5 Canvas**: レンダリング表面
- **Web Audio API**: 音楽再生制御

### システム要件
- **WebGL対応ブラウザ**: Chrome 9+, Firefox 4+, Safari 5.1+, Edge 12+
- **推奨環境**: 
  - CPU: Intel Core i3以上 または 同等のAMD CPU
  - GPU: 統合グラフィックス以上
  - RAM: 4GB以上
  - 安定したインターネット接続

### パフォーマンス最適化
- **パーティクル数**: 800個（動的調整可能）
- **テクスチャサイズ**: 最適化済み（1.08MB）
- **描画最適化**: アンチエイリアシング、適応的レンダリング

## 🚀 ローカル実行方法

### 方法1: 簡単なHTTPサーバー（推奨）

```bash
# Python 3がインストールされている場合
cd threejs-experience-20250719-16388262775/src
python -m http.server 8000

# Node.jsがインストールされている場合
npx http-server . -p 8000

# ブラウザで http://localhost:8000 にアクセス
```

### 方法2: ローカルファイルでの実行

一部のブラウザではセキュリティ制限により、ファイル直接実行では画像が読み込まれない場合があります。その場合は方法1をご利用ください。

### 方法3: Live Server拡張機能

VS Codeをお使いの場合：
1. Live Server拡張機能をインストール
2. `src/index.html`を右クリック
3. "Open with Live Server"を選択

## 🌐 対応ブラウザ

### フル対応
- **Chrome** 60+ （推奨）
- **Firefox** 55+
- **Safari** 11+
- **Edge** 79+

### 制限付き対応
- **Internet Explorer**: 非対応（WebGL ES2.0未対応）
- **古いモバイルブラウザ**: パフォーマンス制限あり

### モバイル対応
- **iOS Safari** 11+
- **Android Chrome** 60+
- **Samsung Internet** 8+

## 🔧 トラブルシューティング

### よくある問題と解決方法

#### 1. 画面が真っ黒で何も表示されない
- **原因**: WebGL未対応またはGPUドライバーの問題
- **解決策**: 
  - ブラウザとGPUドライバーを最新版に更新
  - Chrome://gpu/ でWebGL状態を確認
  - ハードウェアアクセラレーションを有効化

#### 2. パノラマ画像が読み込まれない
- **原因**: CORS制限またはファイルパス問題
- **解決策**: 
  - HTTPサーバー経由でアクセス（file://ではなくhttp://）
  - ブラウザのコンソールでエラー確認

#### 3. 音楽が再生されない
- **原因**: ブラウザの自動再生ポリシー
- **解決策**: 
  - 🎵音楽ボタンを手動でクリック
  - ページと最初にインタラクションしてから音楽を開始

#### 4. 動作が重い・カクつく
- **原因**: GPUパフォーマンス不足
- **解決策**: 
  - 他のタブやアプリケーションを閉じる
  - ブラウザのハードウェアアクセラレーションを確認
  - 画面解像度を下げる

#### 5. タッチ操作が効かない
- **原因**: タッチイベントの競合
- **解決策**: 
  - ページを再読み込み
  - ブラウザのズーム機能を無効化

### デバッグ情報の確認方法

1. **ブラウザのコンソールを開く**:
   - Windows/Linux: F12 または Ctrl+Shift+I
   - Mac: Cmd+Option+I

2. **WebGL情報の確認**:
   - Chrome: `chrome://gpu/`
   - Firefox: `about:support`

3. **パフォーマンス監視**:
   - ブラウザの開発者ツール > Performance タブ

## 📁 ファイル構造

```
threejs-experience-20250719-16388262775/
├── src/
│   ├── index.html          # メインHTML（全機能統合）
│   └── panorama.jpg        # 360度パノラマ画像
├── assets/
│   └── panorama.jpg        # パノラマ画像（バックアップ）
├── images/
│   └── generated-image.png # 参考画像
├── final/
│   └── threejs-experience.zip # 配布用パッケージ
├── google-image-url.txt    # 画像生成URL
└── README.md              # このファイル
```

## 🎨 カスタマイズ方法

### パーティクル数の調整
```javascript
// line 219: createParticleSystem()内
const particleCount = 800; // この数値を変更
```

### 自動回転速度の調整
```javascript
// line 148
let autoRotateSpeed = 0.01; // この数値を変更（0.005-0.02推奨）
```

### パーティクル色の変更
```javascript
// line 235-237: 色相を変更
const hue = Math.random() * 0.1 + 0.8; // ピンク系（0.8-0.9）
// 青系にする場合: 0.5-0.7
// 緑系にする場合: 0.2-0.4
```

## 🔒 セキュリティ考慮事項

- **外部コンテンツ**: Three.js ライブラリはCDN経由で読み込み
- **CORS対応**: 同一オリジンポリシーに準拠
- **XSS対策**: ユーザー入力の直接DOM挿入を回避
- **CSP対応**: Content Security Policy設定可能

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🙋‍♂️ サポート

技術的な問題やご質問がございましたら、以下の情報と共にお問い合わせください：

1. ブラウザの種類とバージョン
2. オペレーティングシステム
3. 発生している具体的な問題
4. ブラウザコンソールのエラーメッセージ（あれば）

---

**制作日**: 2025年7月19日  
**対応体験**: 夏の花々が咲く美しい庭園  
**技術スタック**: Three.js + WebGL + HTML5  
**音楽統合**: なし（パノラマ + パーティクルのみ）