# 万華鏡のような美しい世界 - Three.js 3D体験

## 体験コンセプト
美しく輝く万華鏡の世界を3D空間で再現したインタラクティブ体験です。パノラマ画像とカラフルなパーティクルが織りなす幻想的な世界をお楽しみください。

## 主要機能
- 🌟 360度パノラマ環境
- ✨ 1000個のカラフルパーティクル
- 🎵 BGM統合（オン/オフ制御）
- 🖱️ インタラクティブ操作
- 📱 モバイル対応
- 🔄 自動回転モード

## 操作方法

### デスクトップ
- **マウスドラッグ**: 視点を360度回転
- **マウスホイール**: ズームイン/アウト
- **ダブルクリック**: 自動回転のオン/オフ

### モバイル・タッチデバイス
- **1本指ドラッグ**: 視点回転
- **2本指ピンチ**: ズーム操作
- **ダブルタップ**: 自動回転切り替え

### 音楽制御
- **▶️ 音楽再生**: BGM開始
- **⏸️ 停止**: BGM停止
- **音量スライダー**: 音量調整（0-100%）

## 技術仕様

### 必要環境
- **WebGL対応ブラウザ**: Chrome 9+, Firefox 4+, Safari 5.1+, Edge 12+
- **JavaScript**: ES6+ 対応
- **推奨解像度**: 1024x768以上

### 使用技術
- **Three.js**: r128 (3Dレンダリング)
- **WebGL**: ハードウェアアクセラレーション
- **HTML5 Audio**: 音楽再生
- **Responsive Design**: モバイル対応

### ファイル構成
```
threejs-experience-20250719-16388837381/
├── src/
│   ├── index.html          # メインファイル
│   ├── panorama.jpg        # パノラマ画像 (1.5MB)
│   └── generated-music.wav # BGM音楽 (6.0MB)
├── assets/
│   └── panorama.jpg        # バックアップ画像
├── music/
│   └── generated-music.wav # バックアップ音楽
└── README.md              # このファイル
```

## ローカル実行方法

### 方法1: ローカルサーバー
```bash
# Python 3の場合
python -m http.server 8000

# Python 2の場合
python -m SimpleHTTPServer 8000

# Node.jsのhttp-serverの場合
npx http-server
```

### 方法2: ライブサーバー拡張
VS Codeの「Live Server」拡張機能を使用して `src/index.html` を右クリック→「Open with Live Server」

### 方法3: 直接ブラウザ
一部のブラウザでは `file://` プロトコルでも動作しますが、CORS制限により音楽が再生されない場合があります。

## 対応ブラウザ

### 完全対応
- ✅ Chrome 50+
- ✅ Firefox 45+
- ✅ Safari 10+
- ✅ Edge 15+

### 制限付き対応
- ⚠️ Internet Explorer: 非対応（WebGL制限）
- ⚠️ 古いAndroidブラウザ: パフォーマンス制限

## パフォーマンス最適化

### 推奨設定
- **GPU**: 専用グラフィックスカード推奨
- **RAM**: 4GB以上
- **ブラウザ**: ハードウェアアクセラレーション有効

### 軽量化オプション
低性能デバイスでの動作改善のため、以下の調整が可能です：
```javascript
// パーティクル数を削減（line 225）
const particleCount = 500; // 1000から500に変更

// 球面の詳細度を下げる（line 206）
const geometry = new THREE.SphereGeometry(1000, 30, 20); // 60,40から30,20に変更
```

## トラブルシューティング

### 画面が真っ黒な場合
1. ブラウザのWebGL対応を確認
2. ハードウェアアクセラレーションが有効か確認
3. ブラウザコンソールでエラーメッセージを確認

### 音楽が再生されない場合
1. ブラウザの自動再生ポリシーを確認
2. ユーザー操作後に再生ボタンをクリック
3. ローカルサーバー経由でアクセス

### パフォーマンスが悪い場合
1. 他のタブ・アプリケーションを閉じる
2. ブラウザを最新バージョンに更新
3. パーティクル数を削減（上記参照）

### モバイルで操作できない場合
1. タッチイベントが有効か確認
2. ブラウザの設定でJavaScriptが有効か確認
3. 最新のモバイルブラウザを使用

## ライセンス
このプロジェクトは教育・デモンストレーション目的で作成されています。

## 技術サポート
問題が発生した場合は、ブラウザの開発者ツール（F12）でコンソールエラーを確認してください。