# 🌸 桜をテーマにした万華鏡のような美しい世界

**Three.js WebGL 体験** - 美しい桜の花びらが舞い踊る、インタラクティブな3D万華鏡体験

## 📖 体験コンセプト

桜をテーマにした万華鏡のような美しい3D世界を体験できるWebアプリケーションです。桜の花びらが舞い踊るパーティクルシステムと美しいパノラマ背景、そして心地よいBGMが組み合わさった、没入感のある体験を提供します。

### 🎯 主な特徴

- **桜テーマの美しいビジュアル**: ピンク色の桜の花びらが舞い踊るパーティクルエフェクト
- **インタラクティブ操作**: マウス/タッチによる自由な視点移動とズーム
- **リアルタイム制御**: パーティクル色、数、サイズ、回転速度の動的調整
- **音楽統合**: BGMのオン/オフ切替と音量調整機能
- **レスポンシブデザイン**: デスクトップとモバイルデバイス両対応
- **パフォーマンス最適化**: WebGL対応チェックとエラーハンドリング

## 🎮 操作方法

### マウス操作（デスクトップ）
- **ドラッグ**: 視点移動
- **ホイール**: ズームイン/アウト
- **ダブルクリック**: 自動回転のオン/オフ

### タッチ操作（モバイル）
- **スワイプ**: 視点移動
- **ピンチ**: ズーム（ブラウザ標準機能）
- **ダブルタップ**: 自動回転のオン/オフ

### UIコントロール
- **パーティクル色モード**: 単色/グラデーション/レインボー
- **カラーピッカー**: 基本色の選択
- **回転速度**: 自動回転の速度調整（0.001 - 0.05）
- **パーティクルサイズ**: 花びらサイズ調整（0.1 - 3.0）
- **パーティクル数**: 表示する花びらの数（100 - 5000）
- **音楽制御**: BGMのオン/オフと音量調整

## 🛠 技術仕様

### 必要要件
- **WebGL対応ブラウザ**: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **JavaScript有効**: ES6対応
- **推奨RAM**: 4GB以上（高パーティクル数設定時）

### 使用技術
- **Three.js r128**: 3Dグラフィックスライブラリ
- **WebGL**: ハードウェアアクセラレーション
- **Web Audio API**: 音楽再生制御
- **Canvas API**: レンダリング
- **CSS3**: レスポンシブレイアウト

### ファイル構成
```
threejs-experience-20250720-16394626158/
├── src/
│   ├── index.html          # メインHTMLファイル（22KB）
│   ├── panorama.jpg        # パノラマ背景画像（2MB）
│   └── generated-music.wav # BGM音楽ファイル（6MB）
├── README.md              # このファイル
└── final/                 # 配布用パッケージ
```

## 🚀 ローカル実行方法

### 方法1: 静的ファイルサーバー使用
```bash
# Node.js環境の場合
npx http-server src/ --port 8080

# Python環境の場合
cd src/
python -m http.server 8080

# ブラウザで http://localhost:8080 にアクセス
```

### 方法2: ブラウザ直接開き
```bash
# セキュリティ制限を無効化してChromeで開く（開発用のみ）
google-chrome --disable-web-security --user-data-dir=/tmp/chrome_dev src/index.html
```

## 🌐 対応ブラウザ情報

### 完全対応
- **Chrome**: 90以降（推奨）
- **Firefox**: 88以降
- **Safari**: 14以降
- **Edge**: 90以降

### 部分対応
- **モバイルSafari**: iOS 14以降（音楽自動再生制限あり）
- **Chrome Android**: 90以降（タッチ操作対応）

### 非対応
- Internet Explorer（全バージョン）
- 古いAndroidブラウザ（4.4以前）

## ⚡ パフォーマンス設定

### 高性能デバイス向け設定
- パーティクル数: 3000-5000
- パーティクルサイズ: 1.0-2.0
- すべてのエフェクト有効

### 低性能デバイス向け設定
- パーティクル数: 100-500
- パーティクルサイズ: 0.3-0.8
- 自動回転オフ推奨

## 🔧 トラブルシューティング

### よくある問題と解決法

#### 1. 画面が真っ黒になる
**原因**: WebGL非対応または無効
**解決法**:
- ブラウザのWebGL設定を確認
- グラフィックドライバを最新に更新
- `chrome://flags/` で「WebGL」を有効化

#### 2. パフォーマンスが重い
**原因**: パーティクル数が多すぎる
**解決法**:
- パーティクル数を1000以下に設定
- パーティクルサイズを0.5以下に設定
- 他のタブを閉じてメモリを解放

#### 3. 音楽が再生されない
**原因**: ブラウザの自動再生ポリシー
**解決法**:
- 音楽ボタンを手動でクリック
- ブラウザの音声設定を確認
- ファイルパスが正しいかチェック

#### 4. マウス操作が効かない
**原因**: JavaScriptエラーまたは競合
**解決法**:
- ブラウザのデベロッパーコンソールでエラーチェック
- ページをリロード
- キャッシュをクリア

#### 5. モバイルで表示が崩れる
**原因**: ビューポート設定の問題
**解決法**:
- 横画面での表示を試す
- ブラウザのズーム設定をリセット
- 別のモバイルブラウザで試す

### デバッグ情報
ブラウザのデベロッパーコンソール（F12）で以下を確認:
- WebGL対応状況
- パノラマ画像読み込み状況
- 音楽ファイル読み込み状況
- JavaScript エラーメッセージ

## 📱 モバイルデバイス対応

### iOS（iPhone/iPad）
- **対応**: iOS 14以降のSafari/Chrome
- **注意**: 音楽自動再生には手動操作が必要
- **推奨**: 横画面での表示

### Android
- **対応**: Android 7以降のChrome/Firefox
- **注意**: 機種により性能差あり
- **推奨**: パーティクル数を1000以下に設定

## 🔒 セキュリティとプライバシー

- **外部通信**: Three.js CDNからのライブラリ読み込みのみ
- **データ収集**: 一切なし
- **Cookie使用**: なし
- **ローカルストレージ**: 設定保存なし

## 📄 ライセンス

- **Three.js**: MIT License
- **背景画像**: プロジェクト専用生成
- **音楽**: プロジェクト専用生成
- **コード**: MIT License相当

## 🤝 サポート

技術的な問題や改善提案については、プロジェクトのIssueトラッカーまでご連絡ください。

---

**🌸 美しい桜の世界をお楽しみください！**